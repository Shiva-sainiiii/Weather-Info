<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather App</title>
  <style>
    :root{--accent:#00d4ff}
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: #0b0b0b;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #eaeaea;
    }
    .container {
      background: rgba(255, 255, 255, 0.04);
      padding: 28px;
      border-radius: 14px;
      backdrop-filter: blur(6px);
      text-align: center;
      width: 360px;
      box-shadow: 0 6px 30px rgba(0,0,0,0.6);
      border: 1px solid rgba(255,255,255,0.03);
    }
    h2{margin:0 0 12px 0;font-weight:600}
    .controls{display:flex;gap:8px;align-items:center;justify-content:center}
    input {
      flex:1;
      padding: 10px 12px;
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 8px;
      margin-bottom: 6px;
      background: #141414;
      color: #eaeaea;
      outline: none;
      font-size:14px;
    }
    input::placeholder { color:#888 }
    button {
      padding: 10px 12px;
      border: none;
      background: var(--accent);
      color: #001;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      min-width:110px;
    }
    button:disabled{opacity:.6;cursor:default}
    #result {
      margin-top: 16px;
      font-size: 16px;
      line-height: 1.4;
      word-break:break-word;
    }
    .large{font-size:20px;font-weight:700}
    .muted{color:#9a9a9a;font-size:13px}
  </style>
</head>
<body>
  <div class="container">
    <h2>Weather App</h2>
    <div class="controls">
      <input type="text" id="city" placeholder="Enter city or your name" />
      <button id="btn" onclick="getWeather()">Get</button>
    </div>
    <p id="result" class="muted">Enter a city or name and press Get</p>
  </div>

  <script>
    const API_KEY = '0a19b8f1a7ee4f6284064244252711';
    const btn = document.getElementById('btn');
    const resultEl = document.getElementById('result');

    async function getWeather(){
      const rawCity = document.getElementById('city').value;
      const city = rawCity.trim();
      if(!city){
        alert('Please enter something');
        return;
      }

      // GF SPECIAL FEATURE
      const gfNames = ["chiku","parul","pratibha","chillgozi","shiva ki lugai", "admin ki wife", "admin ki gf", "shiva ki wife", "shiva ki gf", "teri lugai", "apki wife", "apki lugai"];
      const lower = city.toLowerCase();

      if(gfNames.includes(lower)){
        resultEl.innerHTML = `
          <div class="large">üî• +999¬∞C</div>
          <div><strong>You Are Too Hot!! Babyy üî•üíóüå∏</strong></div>
        `;
        return;
      }

      // Normal weather system
      resultEl.textContent = 'Loading...';
      btn.disabled = true;

      try{
        const res = await fetch(`https://api.weatherapi.com/v1/current.json?key=${API_KEY}&q=${encodeURIComponent(city)}`);
        const data = await res.json();

        if(data && data.error){
          throw new Error(data.error.message || 'Location not found');
        }

        const tempRaw = data.current && (data.current.temp_c ?? data.current.temp_f);
        if(tempRaw === undefined || tempRaw === null) throw new Error('Temperature data not available');

        const tempC = Number(data.current.temp_c);
        if(Number.isNaN(tempC)) throw new Error('Invalid temperature value');

        let emoji = '';
        if(tempC > 37) emoji = '‚òÄÔ∏è';
        else if(tempC < 37 && tempC > 20) emoji = 'üòé';
        else if(tempC < 20) emoji = '‚ùÑÔ∏è';
        else if(tempC === 37) emoji = '‚òÄÔ∏è';
        else if(tempC === 20) emoji = 'üòé';

        const tempStr = tempC.toFixed(1);
        const locationName = `${data.location.name}${data.location.region ? ', ' + data.location.region : ''} ${data.location.country ? ', ' + data.location.country : ''}`;

        resultEl.innerHTML = `
          <div class="large">${locationName}</div>
          <div>Temperature: <strong>${tempStr}¬∞C</strong> ${emoji}</div>
          <div class="muted">Local time: ${data.location.localtime}</div>
        `;

      }catch(err){
        resultEl.textContent = 'Error: ' + (err.message || 'Could not fetch weather');
      }finally{
        btn.disabled = false;
      }
    }
  </script>
</body>
</html>
